{"version":3,"sources":["../../src/index.js","components/first-input.js","components/second-input.js","components/footer.js","components/source-code.js","App.js","index.js"],"names":["useLinkedState","gateway","initialState","useState","state","setState","useEffect","thisMember","member","FirstInput","type","placeholder","value","onChange","e","target","SecondInput","Footer","className","href","rel","SourceCode","language","style","thisStyle","showLineNumbers","SyntaxHighlighter","registerLanguage","jsx","App","useRef","members","useStateGateway","ReactDOM","render","document","getElementById"],"mappings":"8iCAYO,SAASA,EAAeC,GAAS,QAChCC,GAAe,UAAAD,EAAA,4DACjBA,UADiB,qBAEjBA,EAFiB,4BAEjBA,EAFJ,aADsC,EAIZE,mBAJY,GAI/BC,EAJ+B,KAIxBC,EAJwB,KA+BtC,OAzBAC,qBAAU,WACR,IAAMC,EAAa,CAAEH,MAAF,EAASC,YAE5B,OADAJ,0BACO,WACLA,yBACEA,0BADFA,SAJJK,IAWAA,qBAAU,WAAM,MACd,IACE,UAAAL,EAAA,gDACCA,yBAFH,cAGE,CACA,cAAmBA,UAAnB,wBAA4C,KAAnCO,EAAmC,QACtCA,aAAJ,GACEA,cAGJP,0BAED,CAZHK,IAcO,CAACF,EAAR,G,WCxCa,SAASK,GAAW,QAAER,IAAY,MAAD,EACpBD,EAAeC,GADK,mBACvCG,EADuC,KAChCC,EADgC,KAK9C,OACE,6BACE,2BACEK,KAAK,OACLC,YAAY,YACZC,MAAOR,EACPS,SATN,SAAsBC,GACpBT,EAASS,EAAEC,OAAOH,WCHP,SAASI,GAAY,QAAEf,IAAY,MAAD,EACrBD,EAAeC,GADM,mBACxCG,EADwC,KACjCC,EADiC,KAK/C,OACE,6BACE,2BACEK,KAAK,OACLC,YAAY,YACZC,MAAOR,EACPS,SATN,SAAsBC,GACpBT,EAASS,EAAEC,OAAOH,WCJP,SAASK,IACtB,OACE,yBAAKC,UAAU,SACb,uBACEC,KAAK,+CACLJ,OAAO,SACPK,IAAI,uBAHN,UAOA,uBACED,KAAK,iDACLJ,OAAO,SACPK,IAAI,uBAHN,gB,4BCNS,SAASC,IACtB,OACE,6BACE,wBAAIH,UAAU,cAAd,qBAEA,kBAAC,IAAD,CACEA,UAAU,aACVI,SAAS,MACTC,MAAOC,IACPC,gBAAgB,QAJlB,meA2BA,wBAAIP,UAAU,cAAd,sBAEA,kBAAC,IAAD,CACEA,UAAU,aACVI,SAAS,MACTC,MAAOC,IACPC,gBAAgB,QAJlB,4cA6BA,wBAAIP,UAAU,cAAd,uBAEA,kBAAC,IAAD,CACEA,UAAU,aACVI,SAAS,MACTC,MAAOC,IACPC,gBAAgB,QAJlB,2cAnENC,IAAkBC,iBAAiB,MAAOC,KCqB3BC,MAjBH,KACV,MAAM5B,ELPD,SAAyBC,GAC9B,IAAMD,EAAU6B,iBAAO,CAAEC,QAAF,GAAe7B,iBAMtC,OALAI,qBAAU,WACR,OAAO,WACLL,UAAkB,CAAE8B,QAAF,GAAe7B,mBAFrCI,IAKA,EKAgB0B,CAAgB,IAChC,OACE,6BACE,yBAAKd,UAAU,aACb,0EACA,kBAACT,EAAD,CAAYR,QAASA,IACrB,kBAACe,EAAD,CAAaf,QAASA,KAExB,yBAAKiB,UAAU,cACb,kBAACG,EAAD,MACA,kBAACJ,EAAD,SCbRgB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.f3719130.chunk.js","sourcesContent":["import { useEffect, useState, useRef } from 'react'\n\nexport function useStateGateway(initialState) {\n  const gateway = useRef({ members: [], initialState })\n  useEffect(() => {\n    return () => {\n      gateway.current = { members: [], initialState }\n    }\n  }, [])\n  return gateway\n}\n\nexport function useLinkedState(gateway) {\n  const initialState = gateway.current?.hasOwnProperty('lastUpdate')\n    ? gateway.current.lastUpdate\n    : gateway.current?.initialState\n  const [state, setState] = useState(initialState)\n\n  useEffect(() => {\n    const thisMember = { state, setState }\n    gateway.current.members.push(thisMember)\n    return () => {\n      gateway.current.members.splice(\n        gateway.current.members.indexOf(thisMember),\n        1\n      )\n    }\n  }, [])\n\n  useEffect(() => {\n    if (\n      gateway.current?.lastUpdate !== state ||\n      !gateway.current.hasOwnProperty('lastUpdate')\n    ) {\n      for (let member of gateway.current.members) {\n        if (member.setState !== setState) {\n          member.setState(state)\n        }\n      }\n      gateway.current.lastUpdate = state\n    }\n  }, [state])\n\n  return [state, setState]\n}\n","import React from 'react'\nimport { useLinkedState } from 'use-linked-state'\n\nexport default function FirstInput({ gateway }) {\n  const [state, setState] = useLinkedState(gateway)\n  function handleChange(e) {\n    setState(e.target.value)\n  }\n  return (\n    <div>\n      <input\n        type='text'\n        placeholder='Type here'\n        value={state}\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport { useLinkedState } from 'use-linked-state'\n\nexport default function SecondInput({ gateway }) {\n  const [state, setState] = useLinkedState(gateway)\n  function handleChange(e) {\n    setState(e.target.value)\n  }\n  return (\n    <div>\n      <input\n        type='text'\n        placeholder='Type here'\n        value={state}\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Footer() {\n  return (\n    <div className='links'>\n      <a\n        href='https://github.com/makannew/use-linked-state'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        Github\n      </a>\n      <a\n        href='https://www.npmjs.com/package/use-linked-state'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        npm package\n      </a>\n    </div>\n  )\n}\n","import React from 'react'\nimport { PrismLight as SyntaxHighlighter } from 'react-syntax-highlighter'\nimport jsx from 'react-syntax-highlighter/dist/esm/languages/prism/jsx'\nimport { prism as thisStyle } from 'react-syntax-highlighter/dist/esm/styles/prism'\nSyntaxHighlighter.registerLanguage('jsx', jsx)\n\nexport default function SourceCode() {\n  return (\n    <div>\n      <h4 className='code-title'>Parent component:</h4>\n\n      <SyntaxHighlighter\n        className='code-style'\n        language='jsx'\n        style={thisStyle}\n        showLineNumbers='true'\n      >\n        {`\n// Parent component\nimport React from 'react'\nimport { useStateGateway } from 'use-linked-state'\nimport FirstInput from './components/first-input'\nimport SecondInput from './components/second-input'\n\nconst App = () => {\n  const gateway = useStateGateway('')\n  return (\n    <div>\n      <h3>States of Input fields are linked together</h3>\n      <FirstInput gateway={gateway} />\n      <SecondInput gateway={gateway} />\n    </div>\n  )\n}\n\nexport default App\n      `}\n      </SyntaxHighlighter>\n      <h4 className='code-title'>First input field:</h4>\n\n      <SyntaxHighlighter\n        className='code-style'\n        language='jsx'\n        style={thisStyle}\n        showLineNumbers='true'\n      >\n        {`\n// First input field\nimport React from 'react'\nimport { useLinkedState } from 'use-linked-state'\n\nexport default function FirstInput({ gateway }) {\n  const [state, setState] = useLinkedState(gateway)\n  function handleChange(e) {\n    setState(e.target.value)\n  }\n  return (\n    <div>\n      <input\n        type='text'\n        placeholder='Type here'\n        value={state}\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n      `}\n      </SyntaxHighlighter>\n      <h4 className='code-title'>Second input field:</h4>\n\n      <SyntaxHighlighter\n        className='code-style'\n        language='jsx'\n        style={thisStyle}\n        showLineNumbers='true'\n      >\n        {`\n// Second input field\nimport React from 'react'\nimport { useLinkedState } from 'use-linked-state'\n\nexport default function SecondInput({ gateway }) {\n  const [state, setState] = useLinkedState(gateway)\n  function handleChange(e) {\n    setState(e.target.value)\n  }\n  return (\n    <div>\n      <input\n        type='text'\n        placeholder='Type here'\n        value={state}\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n\n`}\n      </SyntaxHighlighter>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { useStateGateway } from 'use-linked-state'\nimport FirstInput from './components/first-input'\nimport SecondInput from './components/second-input'\nimport Footer from './components/footer'\nimport SourceCode from './components/source-code'\n\nconst App = () => {\n  const gateway = useStateGateway('')\n  return (\n    <div>\n      <div className='top-panel'>\n        <h3>States of Input fields are linked together</h3>\n        <FirstInput gateway={gateway} />\n        <SecondInput gateway={gateway} />\n      </div>\n      <div className='code-block'>\n        <SourceCode />\n        <Footer />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}